//  $0 - job name (label)
//  $1 - integration activity
//  $2 - maintain activity
//  $3 - parent folder
//  $4 - source artefact;
//  $5 - target artefact label;

// expects a role: "jenkinsRole"

// ********************************

extend activity $1 {
    subactivities run; 
}

extend folder $3 {
    contains jobFolder;
}

extend activity $2 {
    subactivities maintainScript; 
}

folder jobFolder {
    label $0;
    contains 
        script,
        resultArtefact,
        resultReport;
}

activity maintainScript {
    label "maintain '" + $0 + "' script";
    create script;
}

artefact script {
    label $0 + " script";
    brief "this is a Jenkins script. A configuration, that contains all necessary information to do the job.";
}

artefact resultArtefact {
    label $5;
}

artefact resultReport {
    label " build report for " + $5;
}

activity run {
    label "run " + $0;
    brief "the Job is executed and produces the artefacts.";
    responsible jenkinsRole;
    transform $4,script;
    create 
        resultArtefact,
        resultReport;
}


