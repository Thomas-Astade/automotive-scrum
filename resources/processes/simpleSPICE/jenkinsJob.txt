//  $0 - namespace
//  $1 - job name (label)
//  $2 - source artefact
//  $3 - target artefact label
//  $4 - used tool
//  $5 - baseline

// expects a repository jenkins 
// expects a top activity continiousIntegration 

// ********************************

extend repository jenkins {
    contains $0 + "_" + jobFolder;
}

extend activity continiousIntegration {
    subactivities $0 + "_" + run;
}

namespace $0 {

folder jobFolder {
    label $0;
    contains 
        script,
        resultArtefact,
        resultReport;
}

activity maintainScript {
    label "maintain '" + $1 + "' script";
    create script;
}

artefact script {
    label "'" + $1 + "' script";
    brief "this is a Jenkins script. A configuration, that contains all necessary information to do the job.";
    relations $5;
}

artefact resultArtefact {
    label $3;
}

artefact resultReport {
    label " build report for '" + $3 +"'";
}

activity run {
    label "run '" + $1 + "'";
    brief "the Job is executed and produces the artefacts.";
    tool $4;
    transform $2,script;
    create 
        resultArtefact,
        resultReport;
}
}

