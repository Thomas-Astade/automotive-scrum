namespace minimalSPICE {

include resources/blocks/spice_SWE1.txt;
include resources/blocks/spice_SWE2.txt;
include resources/blocks/spice_SWE3.txt;
include resources/blocks/spice_SWE4.txt;
include resources/blocks/spice_SWE5.txt;

include resources/blocks/spice_SUP7.txt;
include resources/blocks/spice_SUP8.txt;
include resources/blocks/spice_SUP9.txt;
include resources/blocks/spice_SUP10.txt;

include resources/blocks/spice_MAN3.txt;
include resources/blocks/spice_MAN5.txt;

include resources/blocks/spice_workProducts.txt;

include resources/blocks/genproc.txt(
    processManager,
    jenkinsRole
);

role processManager {
    label "process manager";
    brief "The process manager is responsible to write down, version and visualize the process.";
    text md/project_manager.md;
}

role jenkinsRole {
    label "Jenkins";
    brief "Jenkins is an automation engine with an unparalleled plugin ecosystem to support all of your favorite tools in your delivery pipelines, whether your goal is continuous integration, automated testing, or continuous delivery.";
}

role projectManager {
    label "project manager";
    brief "The process manager is the overall responsible for a project";
    text md/project_manager.md;
}

role productManager {
    label "product manager";
    brief "The responsible to represent the customer inside the project.";
    text md/minimalSPICE/productManager.md;
}

process process {
    label "minimal SPICE";    
    responsible projectManager;
    repository git,jenkins,forum;
    subactivities
        projectManagement,
        genproc_processDescription,
        continiousIntegration,
        customerCommunication;
    text  md/minimalSPICE/process.md;
}

activity customerCommunication {
    label "customer communication";
    brief "This activity summorizes all neccessary communacation and agreement with the customer.";
    responsible productManager;
    subactivities lifecycle_addComment;
    text md/minimalSPICE/productManager.md;
}

repository jenkins {
    label "Jenkins";
    brief "Jenkins, as a buils server, archives the build artefacts.";
    contains
        genproc_processView;
}

repository git {
    label "git";
    contains 
        projectManagementFolder,
        processManagementFolder;
}

repository forum {
    brief "Just a standard forum software running on a server.";
    contains projectReviews;
}

folder projectReviews {
    label "project specific reviews";
    contains lifecycle_topic;
}

folder projectManagementFolder {
    label "Project management";
    brief "Contains project management specific files.";
    contains spice_projectPlan;
}

folder processManagementFolder {
    label "Process management";
    brief "Contains process management specific files.";
    contains genproc_processSources;
}

extend artefact spice_projectPlan {
    contains 
        scopeOfWorkDefinition,
        projectLifeCycleDefinition;
}

artefact scopeOfWorkDefinition {
    label "scope of work definition";
    brief "The scope of the work for the project is defined.";
}

extend activity spice_MAN3BP1 {
    create minimalSPICE_scopeOfWorkDefinition;
}

artefact projectLifeCycleDefinition {
    label "project life cycle definition";
    brief "Define the life cycle for the project, which is appropriate to the scope, context, magnitude and complexity of the project.";
}

extend activity spice_MAN3BP2 {
    create minimalSPICE_projectLifeCycleDefinition;
    subactivities
        lifecycle_schedule,
        lifecycle_close;
}

namespace lifecycle {
    include  resources/blocks/review.txt(
        minimalSPICE_projectManager,
        minimalSPICE_projectLifeCycleDefinition,
        minimalSPICE_productManager);
}

extend artefact lifecycle_topic {
    label "project life cycle definition review";
}

activity continiousIntegration {
    label "continious integration";
     responsible jenkins;
     subactivities
        genproc_createprocessView;
}

activity projectManagement {
    label "Project management";
    brief "All the administrative work, which has to be done.";
    transform genproc_processView;
    create spice_projectPlan;
    subactivities
        projectSetup,
        spice_MAN3BP4,
        spice_MAN3BP5,
        spice_MAN3BP6,
        spice_MAN3BP7,
        riskManagement,
        projectPlanning;
}

activity projectSetup {
    label "Project setup";
    brief "all activities to setup the process (the startup activities).";
    subactivities
        spice_MAN3BP1,
        spice_MAN3BP2,
        spice_MAN3BP3;
}

activity riskManagement {
    label "Risk management";
    subactivities
        spice_MAN5BP1,
        spice_MAN5BP2,
        spice_MAN5BP3,
        spice_MAN5BP4,
        spice_MAN5BP5,
        spice_MAN5BP6,
        spice_MAN5BP7;
}

activity projectPlanning {
    label "Project planning";
    subactivities
        spice_MAN3BP8,
        spice_MAN3BP9,
        spice_MAN3BP10;
}

}
